badges: []
title: New main page
icon: "mdi:information-outline"
cards:
  - type: custom:vertical-stack-in-card
    cards:
      - type: horizontal-stack
        cards:
          # - type: custom:button-card
          #   entity: person.nizm0
          #   # style:
          #   show_entity_picture: true
          #   entity_picture: /local/images/home/michal.jpg
          #   show_name: false
          #   tap_action:
          #     action: more-info
          # - type: custom:button-card
          #   entity: person.gosia
          #   image: /local/images/home/gosia.jpg
          #   show_name: false
          #   tap_action:
          #     action: more-info
          - type: picture-glance
            entity: person.nizm0
            image: /local/images/home/michal.jpg
            # show_name: false
            tap_action:
              action: more-info
            entities: 
              - entity: person.nizm0
                show_state: true
              - entity: sensor.oneplus3_battery_level
                show_state: true
              - entity: sensor.oneplus3_wifi_connection
            state_filter:
              "Home": brightness(100%) saturate(1.2)
              "Work": brightness(50%) hue-rotate(45deg)
              "not_home": brightness(50%)
          - type: picture-glance
            entity: person.gosia
            image: /local/images/home/gosia.jpg
            show_name: false
            tap_action:
              action: more-info
            entities: 
              - entity: person.gosia
                show_state: true
              - entity: sensor.samsung_battery_level
                show_state: true
              - entity: sensor.samsung_wifi_connection
            state_filter:
              "Home": brightness(100%) saturate(1.2)
              "GP": brightness(50%) hue-rotate(45deg)
              "not_home": brightness(50%)
      - type: horizontal-stack
        cards:
          - type: picture-entity
            entity: vacuum.rockrobo
            tap_action:
              action: more-info
            hold_action:
              action: call-service
              service: vacuum.start
              service_data:
                entity_id: vacuum.rockrobo
            show_icon: true
            show_name: true
            state_image:
              cleaning: /local/images/vacuum.jpeg
              docked: /local/images/vacuum_docked_gray.jpeg
              error: /local/images/vacuum_dark.jpeg
              idle: /local/images/vacuum_dark.jpeg
              paused: /local/images/vacuum_dark.jpeg
              returning: /local/images/vacuum.jpeg
          - type: picture-entity
            entity: input_boolean.ready_to_vacuum
            tap_action:
              action: more-info
            double_tap_action:
              action: toggle
            hold_action:
              action: call-service
              service: input_number.set_value
              service_data:
                entity_id: input_number.vacuum_cleaned_area
                value: 0
            state_image:
              "off": /local/images/vacuum_dark.jpeg
              "on": /local/images/vacuum.jpeg
      - type: custom:xiaomi-vacuum-card
        entity: vacuum.rockrobo
        name: false
        # buttons: true
        image: local/images/vacuum_small.png
        # labels:
        #   battery: Battery
        #   filter: Filter
        #   main_brush: Main Brush
        #   mode: Mode
        #   sensor: Sensors
        #   side_brush: Side Brush
        #   status: Status
  - type: custom:vertical-stack-in-card
    cards:
      - type: custom:air-visual-card
        air_pollution_level: sensor.u_s_air_pollution_level
        air_quality_index: sensor.u_s_air_quality_index
        main_pollutant: sensor.u_s_main_pollutant
        temp: weather.dark_sky
        city: 'Home'
      - type: custom:swipe-card
        cards:
          - type: custom:weather-card
            entity: weather.dark_sky
          - type: custom:weather-card
            entity: weather.home
  - type: custom:swipe-card
    cards:
      - type: custom:mini-graph-card
        title: Temperatures 48h
        animate: false
        entities:
          - sensor.living_room_temperature
          - sensor.bedroom_temperature
          - sensor.kids_temperature
          - sensor.kitchen_temperature
          - sensor.bathroom_temperature
          # - color: gray
          #   entity: sun.sun
          #   name: Night
          #   show_line: false
          #   show_points: false
          #   show_legend: false
          #   y_axis: secondary
        height: 100
        hour24: true
        hours_to_show: 48
        align_icon: left
        align_state: center
        show:
          extrema: true
          fill: true
          title: true
      - type: custom:mini-graph-card
        title: Humidity 48h
        animate: false
        entities:
          - sensor.living_room_humidity
          - sensor.bedroom_humidity
          - sensor.kids_humidity
          - sensor.kitchen_humidity
          - sensor.bathroom_humidity
        height: 100
        hour24: true
        hours_to_show: 48
        align_icon: left
        align_state: center
        show:
          extrema: true
          fill: true
          title: true
      - type: custom:mini-graph-card
        title: Prsure 48h
        animate: true
        entities:
          - sensor.living_room_pressure
          - sensor.bedroom_pressure
          - sensor.kids_pressure
          - sensor.kitchen_pressure
          - sensor.bathroom_pressure
        height: 100
        hour24: true
        hours_to_show: 48
        align_icon: left
        align_state: center
        show:
          extrema: true
          fill: true
          title: true
  - type: custom:swipe-card
    cards:
      - type: custom:vertical-stack-in-card
        title: Temperature
        cards:
          - type: horizontal-stack
            cards:
              - entity: sensor.living_room_temperature
                type: gauge
                name: Living room
                max: 40
                min: 0
                severity:
                  green: 18
                  red: 30
                  yellow: 25
                theme: default
              - type: custom:gap-card
              - entity: sensor.bedroom_temperature
                type: gauge
                max: 40
                min: 0
                name: Bedroom
                severity:
                  green: 18
                  red: 30
                  yellow: 25
                theme: default
          - type: horizontal-stack
            cards:
              - entity: sensor.kids_temperature
                type: gauge
                name: Kids
                theme: default
                unit: C
                max: 40
                min: 0
                severity:
                  green: 19
                  red: 30
                  yellow: 25
          # - type: horizontal-stack
          #   cards:
              - entity: sensor.kitchen_temperature
                type: gauge
                name: Kitchen
                max: 40
                min: 0
                severity:
                  green: 18
                  red: 30
                  yellow: 25
                theme: default
                unit: C
              - type: gauge
                entity: sensor.bathroom_temperature
                theme: default
                unit: C
                max: 40
                min: 0
                name: Bathroom
                severity:
                  green: 18
                  red: 30
                  yellow: 25
      - type: custom:vertical-stack-in-card
        title: Humidity
        cards:
          - type: horizontal-stack
            cards:
              - entity: sensor.living_room_humidity
                type: gauge
                max: 100
                min: 0
                name: Living room
                severity:
                  green: 30
                  red: 60
                  yellow: 50
                theme: default
              - type: custom:gap-card
              - type: gauge
                entity: sensor.bedroom_humidity
                max: 100
                min: 0
                name: Bedroom
                severity:
                  green: 30
                  red: 60
                  yellow: 50
                theme: default
          - type: horizontal-stack
            cards:
              - type: gauge
                entity: sensor.kids_humidity
                max: 100
                min: 0
                name: Kids
                severity:
                  green: 30
                  red: 60
                  yellow: 50
                theme: default
                unit: "%"
          # - type: horizontal-stack
          #   cards:
              - entity: sensor.kitchen_humidity
                type: gauge
                max: 100
                min: 0
                name: kitchen
                severity:
                  green: 30
                  red: 60
                  yellow: 50
                theme: default
                unit: "%"
              - entity: sensor.bathroom_humidity
                type: gauge
                theme: default
                unit: "%"
                max: 100
                min: 0
                name: Bathroom
                severity:
                  green: 30
                  red: 60
                  yellow: 50
  - type: iframe
    aspect_ratio: 60%
    url: >-
      https://embed.windy.com/embed2.html?lat=51.109&lon=17.036&zoom=11&level=surface&overlay=wind&menu=&message=&marker=&calendar=&pressure=&type=map&location=coordinates&detail=&detailLat=51.109&detailLon=17.036&metricWind=default&metricTemp=default&radarRange=-1
  - type: "custom:xiaomi-vacuum-map-card"
    calibration_points:
      - map:
          x: 301
          y: 860
        vacuum:
          x: 25500
          y: 25500
      - map:
          x: 390
          y: 772
        vacuum:
          x: 26500
          y: 26500
      - map:
          x: 301
          y: 772
        vacuum:
          x: 25500
          y: 26500
    default_mode: predefined_zones
    entity: vacuum.rockrobo
    map_image: /community_plugin/xiaomi-vacuum-map-card-mine/home.png
    zones:
      - [[22308, 25089, 26658, 29639]]
      - [[22154, 29811, 25354, 32461]]
      - [[26713, 29772, 31213, 32222]]
      - [[26742, 32255, 31192, 35255]]
      - [[25275, 33279, 27125, 35129]]
      - [[22470, 32189, 26870, 33689], [25403, 29586, 26803, 32336]]
  - type: map
    # title: Map
    aspect_ratio: 60%
    dark_mode: false
    geo_location_sources:
      - all
    entities:
      - entity: device_tracker.google_maps_104688658658376260645
      - entity: device_tracker.google_maps_109218123589188227395
  # - entity: camera.front_dor_fish_eye
  #   show_state: true
  #   type: picture-entity
  #   state_filter:
  #     - null