#### MOTION BEGUN
- alias: Corridor motion detected
  id: corridor_motion_detected
  initial_state: 'true'
  trigger:
  - platform: state
    entity_id: binary_sensor.corridor_motion_sensor
    to: 'on'
  condition:
    condition: and
    conditions:
    - condition: state
      entity_id: binary_sensor.home_door_sensor
      state: 'off'
    # - condition: numeric_state
    #   entity_id: sensor.living_room_gateway_illumination
    #   below: 600
    # - condition: state
    #   entity_id: light.hallway_top_light
    #   state: 'off'
    - condition: or
      conditions:
      - condition: sun
        after: sunset
        after_offset: '00:30:00'
      - condition: sun
        before: sunrise
        before_offset: '-00:30:00'
  action:
  - service: homeassistant.turn_on
    entity_id: script.corridor_motion_detected

- alias: Motion detected in empty home
  id: motion_detected_in_empty_home
  initial_state: 'true'
  trigger:
  - platform: state
    entity_id: binary_sensor.corridor_motion_sensor, binary_sensor.living_room_motion_sensor, binary_sensor.kitchen_motion_sensor
    to: 'on'
  # - platform: state
  #   entity_id: binary_sensor.living_room_motion_sensor
  #   to: 'on'
  condition:
    condition: and
    conditions:
    - condition: state
      entity_id: group.all_devices
      state: 'not_home'
    - condition: state
      entity_id: input_select.home_preset
      state: "Empty"
  action:
  - service: notify.push_to_chrome
    data_template:
      title: Somone wolking in empty home
      message: >
        Motiot detected in: {{ trigger.to_state.attributes.friendly_name }}

#### MOTION OVER
- alias: Corridor motion over
  id: corridor_motion_over
  initial_state: 'true'
  trigger:
  - platform: state
    entity_id: binary_sensor.corridor_motion_sensor
    to: 'off'
  # - platform: state
  #   entity_id: binary_sensor.living_room_motion_sensor
  #   to: 'off'
  condition:
  - condition: state
    entity_id: binary_sensor.home_door_sensor
    state: 'off'
  action:
  - service: homeassistant.turn_on
    entity_id: script.corridor_motion_over