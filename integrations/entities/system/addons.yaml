switch:
  - platform: template
    switches:
      appdaemon:
        value_template: "{{ is_state('sensor.appdaemon_status', 'started') }}"
        turn_on:
          service: hassio.addon_start
          data:
            addon: a0d7b954_appdaemon
        turn_off:
          service: hassio.addon_stop
          data:
            addon: a0d7b954_appdaemon


### https://www.home-assistant.io/integrations/rest/
sensor:
  - platform: rest
    resource: !secret rest_appdaemon_info_link
    name: AppDaemon Status
    value_template: '{{ value_json.data.state }}'
    scan_interval: 5
    headers:
      Authorization: !secret local_rest_api_token
      Content-Type: application/json
    json_attributes_path: '$.data'
    json_attributes:
      - ip_address
      - version
  - platform: rest
    resource: !secret rest_nginx_info_link
    name: NGINX Manager Status
    value_template: '{{ value_json.data.state }}'
    scan_interval: 5
    headers:
      Authorization: !secret local_rest_api_token
      Content-Type: application/json
    json_attributes_path: '$.data'
    json_attributes:
      - ip_address
      - version
  - platform: rest
    resource: !secret rest_esphome_info_link
    name: ESPHome Status
    value_template: '{{ value_json.data.state }}'
    scan_interval: 5
    headers:
      Authorization: !secret local_rest_api_token
      Content-Type: application/json
    json_attributes_path: '$.data'
    json_attributes:
      - ip_address
      - version
  - platform: rest
    resource: !secret rest_samba_info_link
    name: Samba Status
    value_template: '{{ value_json.data.state }}'
    scan_interval: 5
    headers:
      Authorization: !secret local_rest_api_token
      Content-Type: application/json
    json_attributes_path: '$.data'
    json_attributes:
      - ip_address
      - version
  - platform: rest
    resource: !secret rest_mariadb_info_link
    name: MariaDB Status
    value_template: '{{ value_json.data.state }}'
    scan_interval: 5
    headers:
      Authorization: !secret local_rest_api_token
      Content-Type: application/json
    json_attributes_path: '$.data'
    json_attributes:
      - ip_address
      - version
  - platform: rest
    resource: !secret rest_google_backup_info_link
    name: Google Backup Status
    value_template: '{{ value_json.data.state }}'
    scan_interval: 5
    headers:
      Authorization: !secret local_rest_api_token
      Content-Type: application/json
    json_attributes_path: '$.data'
    json_attributes:
      - ip_address
      - version